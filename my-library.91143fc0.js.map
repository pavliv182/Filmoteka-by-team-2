{"mappings":"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","sources":["src/index-library.js","src/js/generateObjectsFormLS.js"],"sourcesContent":["import {\n  checkLSQueue,\n  checkLSWached,\n  getPageItems,\n} from './js/generateObjectsFormLS';\nimport PaginationSystem from './js/paginationSyste';\nimport { createMarcupGallery } from './js/createMarcupGallery';\nimport infoFilm from './js/film-info-modal';\n\ninfoFilm();\n\nlet pageStatus = 'wached';\nconst paginationSystem = new PaginationSystem();\nconst refs = {\n  wachedBtn: document.querySelector('.btn-watched'),\n  queueBtn: document.querySelector('.btn-queue'),\n  cardList: document.querySelector('[data-gallery]'),\n};\n\nrefs.wachedBtn.addEventListener('click', wachedOnClick);\nrefs.queueBtn.addEventListener('click', queueOnClick);\n\nrenderPage();\n\npaginationSystem.mainList.addEventListener(\n  'pagination-system-clicked',\n  event => {\n    renderPage(paginationSystem.page, false);\n  }\n);\n\nfunction renderPage(page = 1, paginationRework = true) {\n  let perPage;\n  showHideNoItemDivs();\n  if (window.innerWidth >= 1280) {\n    perPage = 9;\n  } else if (window.innerWidth >= 768) {\n    perPage = 8;\n  } else if (window.innerWidth >= 0) {\n    perPage = 4;\n  }\n  let wochedObj;\n  if (pageStatus === 'wached') {\n    wochedObj = checkLSWached();\n  } else if (pageStatus === 'queue') {\n    wochedObj = checkLSQueue();\n  }\n  if (!wochedObj.data || wochedObj.data.length === 0) {\n    refs.cardList.innerHTML = '';\n    showHideNoItemDivs(pageStatus);\n    return;\n  }\n  refs.cardList.innerHTML = '';\n  refs.cardList.append(\n    ...createMarcupGallery(\n      getPageItems(paginationSystem.page, perPage, wochedObj.data),\n      true\n    )\n  );\n  if (paginationRework) {\n    if (window.innerWidth >= 1280) {\n      console.log(wochedObj.totalPagesForDesctop);\n      paginationSystem.setTotalPages(wochedObj.totalPagesForDesctop);\n    } else if (window.innerWidth >= 768) {\n      paginationSystem.setTotalPages(wochedObj.totalPagesForTablet);\n    } else if (window.innerWidth >= 0) {\n      paginationSystem.setTotalPages(wochedObj.totalPagesForMobile);\n    }\n    paginationSystem.setPage(page);\n  }\n}\n\nfunction wachedOnClick() {\n  if (pageStatus === 'wached') {\n    return;\n  }\n  pageStatus = 'wached';\n  refs.wachedBtn.classList.toggle('button-checced');\n  refs.queueBtn.classList.toggle('button-checced');\n  renderPage();\n}\n\nfunction queueOnClick() {\n  if (pageStatus === 'queue') {\n    return;\n  }\n  pageStatus = 'queue';\n  refs.wachedBtn.classList.toggle('button-checced');\n  refs.queueBtn.classList.toggle('button-checced');\n  renderPage();\n}\n\nwindow.addEventListener('modalButtonClick', event => {\n  renderPage();\n});\n\nfunction showHideNoItemDivs(param) {\n  if (param === 'wached') {\n    document\n      .querySelector('.no-item-in-wached')\n      .classList.remove('visually-hidden');\n  } else if (param === 'queue') {\n    document\n      .querySelector('.no-item-in-queue')\n      .classList.remove('visually-hidden');\n  } else {\n    document\n      .querySelector('.no-item-in-wached')\n      .classList.add('visually-hidden');\n    document\n      .querySelector('.no-item-in-queue')\n      .classList.add('visually-hidden');\n  }\n}\n"," function checkLSWached() {\n  const wached = JSON.parse(localStorage.getItem('wachedFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\n function checkLSQueue() {\n  const wached = JSON.parse(localStorage.getItem('queueFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\nfunction getPageItems(page, perPage, arr = []){\n  const from = (page - 1) * perPage;\n  const to = from + perPage - 1;\n  const result = arr.filter((item, index) => index >= from && index <= to);\n  return result;\n}\n\nexport {checkLSQueue, checkLSWached, getPageItems}\n\n\n"],"names":["$8nrFW","parcelRequire","$2d36dc77d0803411$export$9467bf386d720fc1","wached","JSON","parse","localStorage","getItem","obj","totalItems","length","totalPagesForDesctop","Math","ceil","totalPagesForTablet","totalPagesForMobile","data","$2d36dc77d0803411$export$e5d690ca54299095","$2d36dc77d0803411$export$9882e2d1b756a8f1","page","perPage","arr","arguments","from","to","result","filter","item","index","default","$e4cd66a41bacdb89$var$pageStatus","$e4cd66a41bacdb89$var$paginationSystem","$ciln9","$e4cd66a41bacdb89$var$refs","wachedBtn","document","querySelector","queueBtn","cardList","$e4cd66a41bacdb89$var$renderPage","_cardList","wochedObj","paginationRework","$e4cd66a41bacdb89$var$showHideNoItemDivs","window","innerWidth","innerHTML","append","apply","$parcel$interopDefault","$evL0J","createMarcupGallery","console","log","setTotalPages","setPage","param","classList","remove","add","addEventListener","toggle","mainList","event"],"version":3,"file":"my-library.91143fc0.js.map"}